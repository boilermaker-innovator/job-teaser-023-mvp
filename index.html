import React, { useState, useEffect } from 'react';
import { Card, CardHeader, CardContent } from '@/components/ui/card';
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';
import { Button } from '@/components/ui/button';
import { Sparkles } from 'lucide-react';

const RefinedTeaser = () => {
  const [currentTab, setCurrentTab] = useState('about');
  const [rotationComplete, setRotationComplete] = useState(false);

  const teaserData = {
    title: "Gifylink Project",
    subtitle: "Create & Share Professional Teasers Instantly",
    logo: "/api/placeholder/80/80",
    tabs: {
      about: {
        content: "A revolutionary platform that lets you create professional teasers without needing a website. Perfect for jobs, products, or any content you want to share.",
        images: [
          {
            src: "/api/placeholder/400/300",
            alt: "Easy content creation interface",
            caption: "Simple form-based creation"
          },
          {
            src: "/api/placeholder/400/300",
            alt: "Professional output example",
            caption: "Professional results instantly"
          }
        ]
      },
      features: {
        content: [
          "One-click teaser creation",
          "Smart color detection",
          "Automatic content formatting",
          "Universal sharing capabilities",
          "Mobile-first design"
        ],
        image: "/api/placeholder/800/400",
        imageAlt: "Feature showcase"
      },
      benefits: {
        content: [
          "Save time and money on content creation",
          "Reach wider audiences",
          "Professional presentation every time",
          "No technical skills needed",
          "Track engagement easily"
        ]
      }
    }
  };

  useEffect(() => {
    if (!rotationComplete) {
      const tabs = Object.keys(teaserData.tabs);
      let currentIndex = 0;

      const timer = setInterval(() => {
        currentIndex++;
        if (currentIndex < tabs.length) {
          setCurrentTab(tabs[currentIndex]);
        } else {
          setRotationComplete(true);
          clearInterval(timer);
        }
      }, 3000);

      return () => clearInterval(timer);
    }
  }, [rotationComplete]);

  return (
    <div className="p-6 bg-gray-100 min-h-screen flex items-center justify-center">
      <Card className="w-full max-w-3xl mx-auto bg-white shadow-lg border-2 border-blue-600">
        <CardHeader className="bg-gradient-to-r from-blue-600 to-blue-800 p-6">
          <div className="flex items-center space-x-4">
            <img 
              src={teaserData.logo} 
              alt="Gifylink Logo" 
              className="w-16 h-16 rounded-lg bg-white p-2 shadow-lg"
            />
            <div className="text-white">
              <h2 className="text-2xl font-bold flex items-center">
                {teaserData.title}
              </h2>
              <p className="text-blue-100">{teaserData.subtitle}</p>
            </div>
          </div>
        </CardHeader>
        
        <CardContent className="p-0">
          <Tabs 
            value={currentTab} 
            onValueChange={(value) => {
              setCurrentTab(value);
              setRotationComplete(true);
            }}
          >
            <TabsList className="w-full justify-start bg-gray-50 border-b">
              {Object.keys(teaserData.tabs).map((tab) => (
                <TabsTrigger 
                  key={tab} 
                  value={tab}
                  className="px-6 py-3 capitalize flex items-center gap-2"
                >
                  <Sparkles className="w-4 h-4" />
                  {tab}
                </TabsTrigger>
              ))}
            </TabsList>

            <TabsContent value="about" className="p-6">
              <p className="mb-6 text-lg text-gray-700">{teaserData.tabs.about.content}</p>
              <div className="grid grid-cols-2 gap-4">
                {teaserData.tabs.about.images.map((image, idx) => (
                  <div key={idx} className="text-center">
                    <img 
                      src={image.src} 
                      alt={image.alt}
                      className="w-full rounded-lg shadow-md mb-2"
                    />
                    <p className="text-sm text-gray-600">{image.caption}</p>
                  </div>
                ))}
              </div>
            </TabsContent>

            <TabsContent value="features" className="p-6">
              <img 
                src={teaserData.tabs.features.image}
                alt={teaserData.tabs.features.imageAlt}
                className="w-full rounded-lg shadow-md mb-6"
              />
              <ul className="grid grid-cols-2 gap-4">
                {teaserData.tabs.features.content.map((feature, idx) => (
                  <li key={idx} className="flex items-center gap-2 text-gray-700">
                    <Sparkles className="w-5 h-5 text-blue-500" />
                    {feature}
                  </li>
                ))}
              </ul>
            </TabsContent>

            <TabsContent value="benefits" className="p-6">
              <ul className="space-y-3">
                {teaserData.tabs.benefits.content.map((benefit, idx) => (
                  <li key={idx} className="flex items-center gap-2 text-gray-700 bg-blue-50 p-3 rounded-lg">
                    <Sparkles className="w-5 h-5 text-blue-500 flex-shrink-0" />
                    {benefit}
                  </li>
                ))}
              </ul>
            </TabsContent>
          </Tabs>

          <div className="p-6 border-t bg-gray-50">
            <Button 
              className="w-full bg-blue-600 hover:bg-blue-700 text-white py-3 text-lg font-semibold"
              onClick={() => window.open('https://gofundme.com', '_blank')}
            >
              Support the Project
            </Button>
          </div>
        </CardContent>
      </Card>
    </div>
  );
};